{"version":3,"file":"js/718.84476548.js","mappings":"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","sources":["webpack://week7/./src/components/AdminPagination.vue","webpack://week7/./src/components/AdminPagination.vue?67ce","webpack://week7/./src/views/AdminOrders.vue","webpack://week7/./src/views/AdminOrders.vue?577b"],"sourcesContent":["<template>\r\n  <nav\r\n    class=\"d-flex justify-content-center align-items-center\"\r\n    aria-label=\"Page navigation example\"\r\n  >\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page + 'page'\"\r\n        :class=\"{ active: page === pages.current_page }\"\r\n      >\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{\r\n          page\r\n        }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emit-pages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminPagination.vue?vue&type=template&id=c5468a24\"\nimport script from \"./AdminPagination.vue?vue&type=script&lang=js\"\nexport * from \"./AdminPagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\2022Vue\\\\2022Vue-W7\\\\week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"app\">\r\n    <div class=\"container\">\r\n      <h2 class=\"text-start mt-4\">訂單列表</h2>\r\n      <div class=\"text-end mt-4\">\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          type=\"button\"\r\n          @click=\"openModal('isNew')\"\r\n        >\r\n          建立新的產品\r\n        </button>\r\n      </div>\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th width=\"200\">購買時間</th>\r\n            <th>E-mail</th>\r\n            <th width=\"200\">購買款項</th>\r\n            <th width=\"200\">應付金額</th>\r\n            <th width=\"150\">是否啟用</th>\r\n            <th width=\"150\">編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in orders\" :key=\"item.id\">\r\n            <td>{{ item.create_at }}</td>\r\n            <td>{{ item.user.email }}</td>\r\n            <td class=\"text-end\">{{ item.origin_price }}</td>\r\n            <td class=\"text-end\">{{ item.price }}</td>\r\n            <td>\r\n              <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\r\n              <span v-else>未啟用</span>\r\n            </td>\r\n            <td>\r\n              <div class=\"btn-group\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-primary btn-sm\"\r\n                  @click=\"openModal('edit', item)\"\r\n                >\r\n                  編輯\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-danger btn-sm\"\r\n                  @click=\"openModal('delete', item)\"\r\n                >\r\n                  刪除\r\n                </button>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n            <adminpagination :pages=\"pagination\" @emit-pages=\"getOrders\"></adminpagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport adminpagination from '@/components/AdminPagination.vue'\r\nconst productModal = {}\r\nconst delProductModal = {}\r\nexport default {\r\n  components: {\r\n    adminpagination\r\n  },\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      tempProduct: {\r\n        imagesUrl: []\r\n      },\r\n      isNew: false,\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders (page = 1) {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/?page=2`\r\n      this.$http.get(url).then((res) => {\r\n        this.orders = res.data.orders\r\n        console.log(Object.values(this.orders))\r\n        this.adminpagination = res.data.adminpagination\r\n      })\r\n    },\r\n    openModal (status, product) {\r\n      console.log(status, product)\r\n      if (status === 'isNew') {\r\n        this.tempProduct = {\r\n          imagesUrl: []\r\n        }\r\n        productModal.show()\r\n        this.isNew = true\r\n      } else if (status === 'edit') {\r\n        this.tempProduct = { ...product }\r\n        productModal.show()\r\n        this.isNew = false\r\n      } else if (status === 'delete') {\r\n        delProductModal.show()\r\n        this.tempProduct = { ...product }\r\n      }\r\n    },\r\n    updateProduct () {\r\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let method = 'post'\r\n      if (!this.isNew) {\r\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n        method = 'put'\r\n      }\r\n      this.$http[method](url, { data: this.tempProduct }).then((res) => {\r\n        console.log(res)\r\n        this.getProducts()\r\n        productModal.hide()\r\n      })\r\n    },\r\n    delProduct () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.$http.delete(url).then((res) => {\r\n        console.log(res)\r\n        this.getProducts()\r\n        delProductModal.hide()\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    // this.checkLogin()\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AdminOrders.vue?vue&type=template&id=262c2258\"\nimport script from \"./AdminOrders.vue?vue&type=script&lang=js\"\nexport * from \"./AdminOrders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\2022Vue\\\\2022Vue-W7\\\\week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","disabled","$props","has_pre","href","onClick","$options","current_page","_Fragment","_renderList","total_pages","page","active","key","_hoisted_5","has_next","props","methods","updatePage","this","$emit","__exports__","render","id","width","type","$data","item","_toDisplayString","create_at","user","email","origin_price","price","is_enabled","_hoisted_10","_hoisted_12","_hoisted_13","_createVNode","_component_adminpagination","pages","onEmitPages","productModal","delProductModal","components","adminpagination","data","orders","tempProduct","imagesUrl","isNew","pagination","getOrders","url","$http","get","then","res","console","log","Object","values","openModal","status","product","show","updateProduct","method","getProducts","hide","delProduct","delete","mounted"],"sourceRoot":""}